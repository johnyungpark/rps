<!DOCTYPE html>
<html lang="eng">
    <head>
        <meta charset="UTF-8">
        <title>JS Project 1 - RPS </title>
    </head>
    <body>
        <script>
            
            let playerScore = 0;
            let computerScore = 0;

            function playRound(playerSelection, computerSelection) {
                if (playerSelection === computerSelection) {
                    alert(`The game is a tie. The player score is ${playerScore} and computer score is ${computerScore}.`);
                }
                if ((playerSelection == 'ROCK' && computerSelection == 'SCISSOR') ||
                    (playerSelection == 'PAPER' && computerSelection == 'ROCK') ||
                    (playerSelection == 'SCISSOR' && computerSelection == 'PAPER')) {
                    playerScore++;
                    alert(`You won! ${playerSelection} beats ${computerSelection}. The player score is ${playerScore} and computer score is ${computerScore}.`);
                    }
                if ((playerSelection == 'ROCK' && computerSelection == 'PAPER') ||
                    (playerSelection == 'PAPER' && computerSelection == 'SCISSOR') ||
                    (playerSelection == 'SCISSOR' && computerSelection == 'ROCK')) {
                    computerScore++;
                    alert(`You lost! ${computerSelection} beats ${playerSelection}. The player score is ${playerScore} and computer score is ${computerScore}.`);
                    }
            }
        
            function game() {
                for (let i = 0; i < 5; i++) {
                    let playerSelect = prompt("Rock, paper, scissor?", "");
                    let playerSelection = playerSelect.toUpperCase();
                    let computerSelection = getComputerChoice();
                    function getComputerChoice() {
                    let rand = Math.floor(Math.random()*3);
                        if (rand == 0) {
                            return "ROCK";
                        } else if (rand == 1) {
                            return "SCISSOR";
                        } else return "PAPER";
                }
                    playRound(playerSelection, computerSelection);
                }
                if (playerScore > computerScore) {
                    alert(`The player has won. The final score is Player ${playerScore} : Computer ${computerScore}.`);
                } else if (playerScore < computerScore) {
                    alert (`The computer has won. The final score is Player ${playerScore} : Computer ${computerScore}.`);
                } else alert ("The game ended in a tie.")
            }

            console.log(game());

        </script>
    </body>
</html>